<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>ex15:EzLampComp</title>
  <script src="../lib/react.js"></script>
	<script src="../lib/react-dom.js"></script>
	<script src="../lib/JSXTransformer.js"></script>
	<style>
		.ez-lamp{
			display : inline-block;
			margin : 5px;
			width : 30px;
			height : 30px;
		}
	</style>
</head>
<body>
	<div id="content"></div>
  <!-- 任务 给示例中的EzLampComp组件增加一个属性shape，
  支持两个值：rect和circle。 当shape属性的值为rect时，
  灯的形状为方形；当shape属性的值为circle时， 灯的形状为圆形。 -->
  <!-- 任务完成 -->
	<script type = "text/jsx">
		//定义React组件
		var EzLampComp = React.createClass({
			render : function(){
				//取得属性值
				var color = this.props.color,
        onoff = this.props.onoff,
        shape = this.props.shape;
				//亮光颜色
				var lights = {
					"off":"#888",
					"on":"#fff"
				};
				//透明度
				var opacity ={
					"off":0.5,
					"on":1.0
				};
        // 形状
        var rectOrCircle = {
          "rect": "0%",
          "circle": "50%"
        };
				//根据属性设置附加的样式
				var style = {
					borderRadius : rectOrCircle[this.props.shape],  //对应样式：border-radius
					opacity : opacity[this.props.onoff],
					background : "-webkit-radial-gradient(30% 30%," + lights[onoff] + " 5%," + color +" 95%)"
				};
				//返回React元素
				return <span className="ez-lamp" style={style}></span>;  //JSX
			}
		});
		//渲染React元素
		React.render(
			//JSX-->
			<div>
				<EzLampComp color="green" onoff="off" shape="rect"/>
				<EzLampComp color="green" onoff="on" shape="rect"/>
				<EzLampComp color="red" onoff="off" shape="rect"/>
				<EzLampComp color="red" onoff="on" shape="rect"/>
				<EzLampComp color="blue" onoff="off" shape="rect"/>
				<EzLampComp color="blue" onoff="on" shape="rect"/>
			</div>
			//<--JSX
			,document.querySelector("#content"));
	</script>
</body>
</html>
